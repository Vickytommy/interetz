{% include 'super_admin/partials/main.html' %}
{% load filters %} 
{% include 'super_admin/partials/title-meta.html' with title=data|get:"create new order " %}

<head>

    {% load static %}
    <!-- <link rel="stylesheet" href="{% static 'super_admin/assets/js/datatables/buttons.datatables.min.css' %}"> -->
    <link href="{% static 'super_admin/assets/libs/sweetalert2/sweetalert2.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- <link href="{% static 'super_admin/assets/css/tables-editable.css' %}" rel="stylesheet" type="text/css" /> -->
    <link href="{% static 'super_admin/assets/css/select2.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'super_admin/assets/css/ui-lightbox.css' %}" rel="stylesheet">
    <!-- Custom Nav Styles -->
    <link href="{% static 'super_admin/assets/css/custom-nav.css' %}" rel="stylesheet" type="text/css" />
    {% include 'super_admin/partials/head-css.html' %}
    <style>
        .active-button {
            background-color: #4CAF50; /* Green color, adjust as needed */
            color: white;
        }
        .hide-modal{
            display: none !important;
        }

        .show-modal{
            display:block !important;
        }


        
        .hide_{
            display: none !important;
        }

        select[readonly].select2-hidden-accessible + .select2-container {
                pointer-events: none;
                touch-action: none;
                opacity:0.6;
                cursor:no-drop;
        }


        /* WIZARD */
        .wizard-section {
            max-width: 600px;
            margin: auto;
        }
        .wizard-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px auto;
        }
        .wizard-body {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px auto;
        }
        .step {
            text-align: center;
            position: relative;
        }
        .step-circle {
            width: 50px;
            height: 50px;
            background-color: #c7c7ca;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            font-weight: bold;
            margin: 0 auto;
            transition: background-color 0.3s;
        }
        .step-circle.active, .step-circle.completed {
            background-color: #556ee6;
        }
        .step-title {
            margin-top: 10px;
            font-size: 14px;
        }
        .step-line {
            position: absolute;
            top: 25px;
            right: 55px;
            width: 150px;
            height: 2px;
            background-color: transparent;
            /* z-index: -1; */
            transition: background-color 0.3s;
        }
        .step-line.completed {
            background-color: #556ee6;
        }

        input[type="search"] {
            margin-right: 0px !important;
        }

        .select2-container {
            width: 100% !important;
        }

        .radio-label {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            background-color: #f6f6f6;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            /* font-size: 1rem; */
            /* color: #4a5568;  */
            transition: background-color 0.3s, color 0.3s;
        }

        .peer:checked + .radio-label {
            background-color: #6c6685; /* Purple background */
            color: #fff; /* White text */
        }

        .main-label {
            font-weight: 500;
            color: #6c6685;
            text-align: center;
        }

        .upload-example-modal {
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9);
        }
        .upload-example-modal-content {
            width: 80%;
            max-width: 800px;
            height: 100%;
            margin: auto;
        }
        .upload-example-modal-content img {
            width: 100%;
            object-fit: contain;
            height: 100%;
        }
        .upload-example-modal span {
            position: absolute;
            margin-top: 2rem;
            margin-right: 2rem;
        }
    </style>
</head>

{% include 'super_admin/partials/body.html' %}
<div class="group-data-[sidebar-size=sm]:min-h-[1500px] group-data-[sidebar-size=sm]:relative">
    {% include 'super_admin/partials/sidebar.html' %}
    {% include 'super_admin/partials/topbar.html' %}
    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="relative group-data-[sidebar-size=sm]:min-h-[1500px]">

        <div class="container-top-fluid">
            <div class="container-fluid">
                {% include 'super_admin/partials/page-title.html' with title=data|get:"door" pagetitle=data|get:"create new order " %}
                {% include 'super_admin/partials/custom_modal.html' %}

                <!-- <a href="{% url 'super_admin:addClient' %}" class="mb-4 text-white transition-all duration-300 ease-linear bg-green-500 border-green-500 hover:bg-green-600 hover:border-green-600 hover:text-white active:bg-green-600 active:border-green-600 active:text-white focus:bg-green-600 focus:border-green-600 focus:text-white focus:ring focus:ring-green-500/30 btn">Drawers</a> -->
                <!-- <input type="hidden" value='{% url "super_admin:all_knobs" %}' id="link_to_view_"> -->
                <input type="hidden" value="{% url 'super_admin:CreateDoorOrder' %}" id="link_to_add_">
                <input type="hidden" value="{% url 'super_admin:orderPageAjaxCalls' %}" id="link_to_grab_order_page_data_">
                <input type="hidden" value="{% url 'super_admin:viewSuperAdminOrders' %}" id="link_to_redirect_">

        
                <div id="add_form_drawer">
                    <div class="shadow-md card shadow-gray-400/10 dark:bg-zink-700 dark:border-zink-50">
                        <div style="max-width: 800px;" class="pb-0 card-body mx-auto">

                            <div class="wizard-section">
                                <div class="wizard-container">
                                    <div class="step">
                                        <div class="step-circle completed">1</div>
                                        <div class="step-title">
                                            פרטי הזמנה
                                            <!-- Step 1 -->
                                        </div>
                                        <div class="step-line completed"></div>
                                    </div>
                                    <div class="step">
                                        <div class="step-circle two">2</div>
                                        <div class="step-title">
                                            בחירת מוצרים
                                            <!-- Step 2 -->
                                        </div>
                                        <div class="step-line two"></div>
                                    </div>
                                    <div class="step">
                                        <div class="step-circle three">3</div>
                                        <div class="step-title">
                                            בחירת חזיתות
                                            <!-- Step 3 -->
                                        </div>
                                        <div class="step-line three"></div>
                                    </div>
                                    <div class="step">
                                        <div class="step-circle four">4</div>
                                        <div class="step-title">
                                            סיכום הזמנה
                                            <!-- Step 4 -->
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!-- starting order create form here -->
                            <form id="create_order_form" class="mb-4" method="POST" enctype="multipart/form-data">
                                <div id="create_order_form_action_msg" class="mt-4 mb-4"></div>
                                {% csrf_token %}

                                <input type="hidden" name="have_past_order" id="have_past_order" value="{{ have_past_order }}">

                                {% if have_past_order == 1 %}
                                    <input type="hidden" name="past_order_id" id="past_order_id" value="{{ past_order_id }}">
                                {% else %}
                                    <input type="hidden" name="past_order_id" id="past_order_id" value="">
                                {% endif %}

                                <input type="hidden" name="action" id="action" value="insert">
                                <input type="hidden" id="step" value="">
                                <input type="hidden" name="decision" id="decision" value="">
                                <input type="hidden" name="active_pop_up_id" id="active_pop_up_id" value="">
                                <input type="hidden" name="step_click_counter" id="step_click_counter" value="1">
                                    <!-- <input type="hidden" name="order_id" id="order_id" value="{{order_id}}"> -->
                                <input type="hidden" id="order_id" name="order_id" value="{{order_id}}">
                                <input type="hidden" id="product_type" name="product_type" value="{{product_type}}">



                                <!-- Start STEP 1 -->
                                {% if step == step_1 %}
                                    <div class="flex flex-col w-full mx-auto gap-6" id="create_order_form_step_1">                                  
                                        <div style="background-color:#f6f6f6;" class="w-full p-4 mb-4 rounded flex justify-between gap-x-5 md:gap-6">
                                            <div class=" md:col-span-2">
                                                <div>
                                                    <label for="order_id" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200 ">{{ data1|get:"order_id" }}</label>
            
                                                    <strong>{{order_id}}</strong>
                                                </div>
                                            </div>
                
                                            <!-- <div class=" md:col-span-2">
                                                <div>
                                                    <label for="Doors" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200"> {{ data|get:"Product Type" }}</label>
                                                    <strong>{{ data|get:"door" }}</strong>
                                                </div>
                                            </div> -->
                
                                            <div class=" md:col-span-2">
                                                <div>
                                                    <label for="username" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200"> {{ data|get:"Employ Name" }}</label>
                                                    <strong>{{request.user.employee_name}}</strong>
                                                </div>
                                            </div>
                
                                            <div class=" md:col-span-2">
                                                <div>
                                                    <label for="order_date" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">{{ data|get:"Order Date" }}</label>
                                                    <strong>{{order_date|date:"d/m/y"}}</strong>
                                                </div>
                                            </div>
                
                                            <div class=" md:col-span-2">
                                                <div>
                                                    <label for="order_status" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">{{ data|get:"Order Status" }}</label>
                                                    <strong>{{order_status_show}}</strong>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="md:col-span-6">
                                            <div>
                                                <label for="order_status" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">{{ data|get:"Client Order Name" }}</label>
                                                <input class="w-full border py-2 px-3 text-13 rounded border-gray-400 placeholder:text-13 focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700 dark:bg-transparent placeholder:text-gray-600 dark:border-zink-50 dark:placeholder:text-zink-200"  id="client_order_name" name="client_order_name">
                                            </div>
                                        </div>
                                    
                                        <div class="md:col-span-6">
                                            <div>
                                                <label for="order_status" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">{{ data|get:"Client Order ID" }}</label>
                                                <input class="w-full border py-2 px-3 text-13 rounded border-gray-400 placeholder:text-13 focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700 dark:bg-transparent placeholder:text-gray-600 dark:border-zink-50 dark:placeholder:text-zink-200" id="client_order_id" name="client_order_id" type="text">
                                            </div>
                                        </div>

                                        <input type="hidden" name="request_status_step1" id="request_status_step1" value="draft">
                                        <input type="hidden" name="request_status_step1_user_id" id="request_status_step1_user_id" value="{{ request.user.id }}">


                                        <div class="md:col-span-6">
                                            <div id="next_error_div my-4">
                                                <label class="ltr:ml-2 rtl:mr-2 text-13 text-red-600 font-medium dark:text-red-600" for="formrow-customCheck">{{ data|get:"some fields are empty"}}</label>
                                            </div>
                                            <div class="mt-2 flex justify-end">
                                                <button type="button" class="text-white bg-blue-500 hover:bg-blue-700 focus:ring-2 focus:ring-blue-100 font-medium rounded text-sm w-full sm:w-auto px-10 py-4 text-center" id="create_order_form_next_btn_step_1">{{ data|get:"next" }}</button>
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                                    
                                <!-- End STEP 1 -->

                                <!-- Start STEP 2 -->
                                <div id="create_order_form_2_wrapper">
                                    {% if step == step_insert %}
                                        <!-- Interested in more than one color? -->
                                        <div class="grid grid-cols-12 gap-x-4 md:gap-4 mt-12" id="create_order_form_step_2" style="display:none;">
                                            <div class="md:col-span-12">
                                                <div class="flex items-center gap-4 mb-4">
                                                    <!-- Main Label -->
                                                    <label class="main-label">
                                                        {{ data|get:"you need 2 type of colors" }}
                                                    </label>

                                                    <!-- Radio Group -->
                                                    <div class="flex gap-2">
                                                        <!-- Option 1 -->
                                                        <input type="radio" name="color_selection" value="no" id="option1" class="hidden peer"/>
                                                        <label for="option1" class="radio-label">
                                                            לא
                                                            <!-- 1 -->
                                                        </label>
                                            
                                                        <!-- Option 2 -->
                                                        <input type="radio" name="color_selection" value="yes" id="option2" class="hidden peer"/>
                                                        <label for="option2" class="radio-label">
                                                            כן
                                                            <!-- 2 -->
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                        </div>
                                    {% endif %}

                                    <!-- in case of no/yes step3 -->
                                    <div class="grid grid-cols-12 gap-x-4 gap-y-10 mt-4" id="create_order_form_step_3">

                                    <!-- 
                                    <div class="flex">
                                        <div class="md:col-span-6">
                                                <div>
                                                    <label for="collection_barcode" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">Collection Barcode</label>
                                                    <select class="col-span-12 sm:col-span-10 px-3 bg-white w-full border p-2 border-gray-400 rounded placeholder:text-sm focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700 dark:bg-zink-700 dark:border-zink-50 dark:text-zink-200" id="collection_barcode" name="collection_barcode" required>
                                                        <option selected value="" disabled>Collection Barcode</option>
                                                        
                                                    </select>
                                                </div>
                                        </div>
                                        

                                        <div class="md:col-span-6">
                                                <div>
                                                    <label for="collection" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">Collection</label>
                                                    <select class="col-span-12 sm:col-span-10 px-3 bg-white w-full border p-2 border-gray-400 rounded placeholder:text-sm focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700  dark:bg-zink-700 dark:border-zink-50 dark:text-zink-200" id="collection" name="collection" required>
                                                        <option selected value="" disabled>Collection</option>
                                                        
                                                    </select>
                                                </div>
                                        </div>
                                    </div>

                                    <div class="md:col-span-4">
                                            <div>
                                                <label for="keepflow" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">Keep Flow</label>
                                                <select class="col-span-12 sm:col-span-10 px-3 bg-white w-full border p-2 border-gray-400 rounded placeholder:text-sm focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700  dark:bg-zink-700 dark:border-zink-50 dark:text-zink-200" id="keepflow" name="keepflow" required>
                                                    <option selected value="" disabled>Keep Flow</option>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                    
                                                </select>
                                            </div>
                                    </div>

                                    <div class="md:col-span-4">
                                            <div>
                                                <label for="texture" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">Texture</label>
                                                <select class="col-span-12 sm:col-span-10 px-3 bg-white w-full border p-2 border-gray-400 rounded placeholder:text-sm focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700  dark:bg-zink-700 dark:border-zink-50 dark:text-zink-200" id="texture" name="texture" required>
                                                    <option selected value="" disabled>Texture</option>
                                                    <option value="height">Height</option>
                                                    <option value="width">Width</option>
                                                    
                                                </select>
                                            </div>
                                    </div>


                                    <div class=" md:col-span-4">
                                                    <div class="relative">
                                                    
                                                    
                                                    <h2 class="nonsense">The heading 1</h2>
                                                    <label for="upload_file" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">Upload File</label>
                                                    <input class="relative m-0 block w-full min-w-0 flex-auto cursor-pointer rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] font-normal leading-[2.15] text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:cursor-pointer file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-zink-50 dark:text-zink-200 dark:file:bg-zink-50 dark:file:text-zink-200 dark:focus:border-primary"  type="file" accept=".jpg, .jpeg, .png, .gif" id="upload_file" name="upload_file"  placeholder="Upload File" required/>
                                    
                                                </div>
                                    </div>

                                    <div class="md:col-span-6">
                                            <div>
                                                <label for="knob_family" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">Knob Family</label>
                                                <select class="col-span-12 sm:col-span-10 px-3 bg-white w-full border p-2 border-gray-400 rounded placeholder:text-sm focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700  dark:bg-zink-700 dark:border-zink-50 dark:text-zink-200" id="knob_family" name="knob_family" required>
                                                    <option selected value="" disabled>Knob Family</option>
                                                    
                                                    
                                                </select>
                                            </div>
                                    </div>

                                    <div class="md:col-span-6">
                                            <div>
                                                <label for="knob_color" class="block font-medium text-gray-700 text-13 mb-2 dark:text-zink-200">Knob Color</label>
                                                <select class="col-span-12 sm:col-span-10 px-3 bg-white w-full border p-2 border-gray-400 rounded placeholder:text-sm focus:border focus:border-gray-400 focus:ring-0 focus:outline-none text-gray-700  dark:bg-zink-700 dark:border-zink-50 dark:text-zink-200" id="knob_color" name="knob_color" required>
                                                    <option selected value="" disabled>Knob color</option>
                                                </select>
                                            </div>
                                    </div> -->
                                        
                                    </div>
                                </div>

                                <!-- Start STEP 2 I THINK-->

                                <!-- in case of yes this button will appears -->
                                <div class="grid grid-cols-12 gap-x-4 md:gap-4 mt-4 create_order_form_yes_decision_div" id="create_order_form_add_collection_div" style="display:none;">
                                    <div class="md:col-span-12 text-right">
                                        <div>
                                            <button type="button" class=" text-white bg-dark-500 hover:bg-dark-700 focus:ring-2 focus:ring-dark-100 font-medium rounded text-sm w-full sm:w-auto px-5 py-2.5 text-center" id="add_collection_btn" data-id="4"><i class="fa fa-plus"></i>   {{ data|get:"add another colletion"  }}</button>
                                        </div>
                                    </div>
                                </div>



                                <div class="grid grid-cols-12 gap-x-6 md:gap-6 mt-4" id="create_order_form_no_decision_div" style="display:none;">
                                    <div class="md:col-span-12 text-center">
                                        <div>
                                            <button type="button" class=" text-white bg-dark-500 hover:bg-dark-700 focus:ring-2 focus:ring-dark-100 font-medium rounded text-sm w-full sm:w-auto px-5 py-2.5 text-center" id="choose_knob_family_btn"> Choose Knob Family </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid grid-cols-12 gap-x-6 md:gap-6 mt-6" id="create_order_form_step_4"></div>
                                <div class="grid grid-cols-12 gap-x-6 md:gap-6 mt-6" id="create_order_form_step_5"></div>


                                <!-- table creation in case of no -->
                                <div id="create_order_form_step_6_wrapper" style="display: none">
                                    <div class="grid mt-6 relative overflow-x-auto" id="create_order_form_step_6"  data-id="no" style="display:none;">
        
        
                                        <h6 class="mb-5 text-15 font-semibold text-gray-700 dark:text-white"> {{ data|get:"start fill the table" }} </h6>
        
                                        <div id="error_fields" class="hide_">
                                            
                                        </div>
                                        
                                        <!-- <div class="relative overflow-x-auto"> -->
                                        <table class="w-full text-sm ltr:text-left rtl:text-right text-gray-500" id="order_table">
                                            <thead class="text-sm text-gray-700 dark:text-zink-200">
                                                <tr class="border border-gray-300 dark:border-zink-50">
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300 barcode_th hide_" >
                                                                {{ data|get:"Collection Barcode" }}
                                                        </th>
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"height " }}
                                                        </th>
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"width" }}
                                                        </th>
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                                {{ data|get:"quantity" }}
                                                        </th>
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"knob model" }}
                                                        </th>
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"knob postion" }}
                                                        </th>
                                                        
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"drills" }}
                                                        </th>
                                                        
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"drilling code" }}
                                                        </th>
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"notes" }}
                                                        </th>
                                                        <th scope="col" class="text-center p-3 font-semibold border-l dark:border-zink-50 border-gray-300">
                                                            {{ data|get:"delete" }}
                                                        </th>
                                                </tr>
                                            </thead>
                                            <tbody id="order_table_tbody">
                                                
                                            </tbody>
                                        </table>
        
        
                                        <div class="grid grid-cols-12 gap-x-6 md:gap-6 mt-4" id="create_order_form_step_7">
                                            <div class="md:col-span-2">
                                                <div>
                                                    <button type="button" class=" text-white bg-dark-500 hover:bg-dark-700 focus:ring-2 focus:ring-dark-100 font-medium rounded text-sm w-full sm:w-auto px-5 py-2.5" id="add_row_btn"><i class="fa fa-plus"></i> {{ data|get:"add row" }}</button>
                                                </div>
                                            </div>

                                            <div class="md:col-span-4">
                                                <div></div>
                                            </div>

                                            <div class="md:col-span-2">
                                                <div>
                                                    <button type="button" class="text-gray-500 border border-gray-400 btn hover:bg-gray-500 hover:text-white focus:bg-gray-500 focus:text-white focus:ring focus:ring-gray-100 dark:focus:ring-gray-500/20">
                                                        <span class="px-1 ml-1 text-ls text-white bg-dark-500 rounded" id="quatity_counter">0</span>
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
        
                                        <!-- </div> -->
                                        <!-- THIRD STEP MODAL EXIT -->
                                        <!-- <div id="create_order_form_modal" modal-center class="text-right fixed flex flex-col top-1/2 left-1/2  -translate-x-1/2 -translate-y-1/2 w-fit hide-modal border border-dark-500 transition-all duration-300 ease-in-out">
                                            <div class="w-full bg-white shadow rounded-md dark:bg-zink-700 dark:text-zink-200 dark:shadow">
                                                <div class="hide_ flex items-center justify-between p-4 border-b border-gray-300 dark:border-zink-50"> 
                                                    <button type="button" class="close_modal btn" style="font-size: 20px;font-weight: 600;color: black;">x</button>
                                                </div>
                                                    
                                                <div class="p-4" id ="">
                                                    <h6 class="text-15 font-semibold dark:text-white mb-4">
                                                        ${window.page.notes}
                                                    </h6>
                            
                                                    <div class="grid grid-cols-12" id="">
                                                        <div class="md:col-span-4 mt-7">
                                                            <div>
                                                                <button type="button" id="create_order_form_modal_savedraft" class="text-white transition-all duration-300 ease-linear bg-blue-500 border-blue-500 hover:bg-blue-600 hover:border-blue-600 hover:text-white active:bg-blue-600 active:border-blue-600 active:text-white focus:bg-blue-600 focus:border-blue-600 focus:text-white focus:ring focus:ring-blue-500/30 btn">{{ data|get:"close" }}</button>
                                                                
                                                                <button type="button" id="create_order_form_modal_close" class="close_modal mr-2 text-white transition-all duration-300 ease-linear bg-red-500 border-red-500 hover:bg-red-600 hover:border-red-600 hover:text-white active:bg-red-600 active:border-red-600 active:text-white focus:bg-red-600 focus:border-red-600 focus:text-white focus:ring focus:ring-red-500/30 btn">{{ data|get:"close" }}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> -->
                                    </div>
                                    
        
                                    <input type="hidden" id="draft_text" value ="ההזמנה נשמרה כטיוטה">
        
                                    <div class="flex justify-end gap-x-6 md:gap-6 mt-4" id="form_btn">
                                        <div class="md:col-span-2">
                                            <button type="button" class="text-white transition-all duration-300 ease-linear bg-green-500 border-green-500 hover:bg-green-600 hover:border-green-600 hover:text-white active:bg-green-600 active:border-green-600 active:text-white focus:bg-green-600 focus:border-green-600 focus:text-white focus:ring focus:ring-green-500/30 block w-full btn text-16 py-2 hide_" id="send_order_data_to_draft">שמור טיוטה</button>
                                        </div>
        
                                        <div class="md:col-span-2">
                                            <button type="button" id="preview_order_button" class="text-center text-white transition-all duration-300 ease-linear bg-red-500 border-red-500 hover:bg-red-600 hover:border-red-600 hover:text-white active:bg-red-600 active:border-red-600 active:text-white focus:bg-red-600 focus:border-red-600 focus:text-white focus:ring focus:ring-red-500/30 block w-full btn text-16 py-2 hide_">{{ data|get:"preview order" }}</button>
                                        </div>
                                    </div>
                                </div>
                            
                            </form>

                            <!-- [STEP 4] -->
                            <div id="create_order_form_final_step" style="display: none;" class="py-8 relative group-data-[sidebar-size=sm]:min-h-[1500px]">
                                <div class="container-top-fluid">
                                    <div class="container-fluid">
                                    <input type="hidden" value="{{cards}}">

                                        <div id="pdf-content" class="mt-4">
                                            <div class="grid grid-cols-12 gap-5">
                                                <div class="col-span-12 lg:col-span-6">

                                                    <input type="hidden" name="order_id_unique" id="order_id_unique" value="{{order_track_response.order_id}}">
                                                        <div class="md:col-span-2">
                                                            <div>
                                                                <label id="view_order_id" for="order_id" class="block font-medium text-gray-700 text-13  dark:text-zink-200 ">{{ data|get:"Order ID" }} : <strong id="order_id">{{order_track_response.order_id}}</strong></label> 
                                                                
                                                            </div>
                                                        </div> 

                                                        <div class="md:col-span-2">
                                                            <div>
                                                                <label id="view_employee_name" for="order_id" class="block font-medium text-gray-700 text-13  dark:text-zink-200 ">{{ data|get:"Employ Name" }} : <strong>{{order_track_response.employee_name}} {{order_track_response.employee_last_name}}</strong></label>
                                                                
                                                            </div>
                                                        </div>

                                                        <div class="md:col-span-2">
                                                            <div>
                                                                    <label id="view_client_order_id" for="order_status" class="block font-medium text-gray-700 text-13 dark:text-zink-200">{{ data|get:"Client Order ID" }} :  <strong>{{ order_track_response.client_order_id }}</strong></label>
                                                                
                                                            </div>
                                                        </div>
                                                        <div class="md:col-span-2">
                                                            <div> <label for="knob_family" class="block font-medium text-gray-700 text-13 dark:text-zink-200">{{ data|get:"Knob Family"}} : 
                                                                <strong>{{ knob_families }}</strong></label>
                                                            </div>
                                                        </div>
                                                </div>

                                                <div class="col-span-12 lg:col-span-6" >
                                                    <img  class="ml-2" src="{% static 'super_admin/assets/images/detail_page_logo.jpg' %}" alt="" style="float:left; height:50px;">
                                                    
                                                </div>
                                            </div>

                                            {% if cards %}
                                            
                                                        
                                            <table id="view_order_table" class="display w-3/4 border border-collapse mt-4" style="width:100%">
                                                        <thead>
                                                            <tr class="rtl:text-center bg-white">
                                                                <th class="p-3 bg-white" >{{ data|get:"row"}}</th>
                                                                <th class="p-3 bg-white" >{{ data|get:"collection_barcode"}}</th>
                                                                <th class="p-3 bg-white" >{{ data|get:"height "}}</th>
                                                                <th class="p-3 bg-white" >{{ data|get:"width"}}</th>
                                                                <th class="p-3 bg-white" >{{ data|get:"quantity"}}</th>
                                                                <th class="p-3 bg-white" >{{ data|get:"meter" }}</th>
                                                                <th class="p-3 bg-white" >{{ data|get:"knob_width" }}</th>
                                                                <th class="p-3 bg-white" >{{ data|get:"connected_knob" }}</th>
                                                                <th class="p-3 bg-white"  >{{ data|get:"drills"}}</th>
                                                                <th class="p-3 bg-white"  >{{ data|get:"notes"}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            {% for card_key, card_data in cards.items %}

                                                    
                                                            <tr class="bg-white">
                                                                    <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50">
                                                                            {{ forloop.counter }}
                                                                    </td>
                                                                    <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                        {{ card_data.collection_barcode }}

                                                                    </td>
                                                                    <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                        {{ card_data.card_height }}

                                                                    </td>
                                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                            {{ card_data.card_width }}

                                                                        </td>
                                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                            {{ card_data.card_quantity }}

                                                                        </td>
                                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50">
                                                                            {{ card_data.meter|formater_num  }}

                                                                        </td>
                                                                    
                                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                            {{ card_data.knob_width|formater_num }}
                                                                        </td>
                                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                        {{ card_data.connected_knob_check|safe }}
                                                                        </td>
                                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                            {{ card_data.have_drills|safe }}
                                                                        </td>
                                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200  border border-gray-300 dark:border-zink-50">
                                                                                {{ card_data.have_notes|safe }}

                                                                        </td>

                                                                </tr>
                                                        
                                                    {% endfor %}

                                                    
                                                </tbody>

                                                <tfoot class="bg-white">
                                                    <tr> 
                                                        <td class="p-3 text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50"></td>
                                                        <td class="p-3 text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50"></td>
                                                        <td class="p-3 text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50"></td>
                                                        <td class="p-3 text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50"></td>
                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50">
                                                            <strong>{{ total_quantity }} </strong>

                                                        </td>
                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50">
                                                                
                                                                <strong>{{ total_meter|formater_num }}</strong>

                                                        </td>
                                                        
                                                        <td class="p-3 text-center text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50">
                                                                
                                                            <strong>
                                                                {{ total_knob_width|formater_num }} </strong>


                                                        </td>
                                                        <td class="p-3 text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50"></td>
                                                        <td class="p-3 text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50"></td>
                                                        <td class="p-3 text-gray-700 font-normal whitespace-nowrap dark:text-zink-200 border border-gray-300 dark:border-zink-50"></td>
                                                        

                                                    </tr>

                                                </tfoot>

                                            </table>
                                        </div>

                                            {% endif %}
                                        <div class="grid grid-cols-12 gap-x-6 md:gap-6 mt-4" id="form_btn">
                                            <div class="md:col-span-3 text-center bg-white">
                                                <button type="button" id="pdfmake" class="text-white transition-all duration-300 ease-linear bg-red-500 border-red-500 hover:bg-red-600 hover:border-red-600 hover:text-white active:bg-red-600 active:border-red-600 active:text-white focus:bg-red-600 focus:border-red-600 focus:text-white focus:ring focus:ring-red-500/30 block w-full btn text-16 py-2">{{ data|get:"Generate PDF" }} </button>
                                            </div>
                                            <div class="md:col-span-3">
                                                <button type="submit" class=" text-white transition-all duration-300 ease-linear bg-blue-500 border-blue-500 hover:bg-blue-600 hover:border-blue-600 hover:text-white active:bg-blue-600 active:border-blue-600 active:text-white focus:bg-blue-600 focus:border-blue-600 focus:text-white focus:ring focus:ring-blue-500/30 block w-full btn text-16 py-2 hide_" id="send_order_btn">{{ data|get:"send order" }}</button>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- container-fluid -->
                                </div>
                                <!-- End Page-content -->
                            </div>
                            <!-- [END STEP 4] -->

                        </div> 

                    </div>
                </div>
            
             

            </div>
            <!-- container-fluid -->
        </div>
        <!-- End Page-content -->
        
        {% include 'super_admin/partials/footer.html' %}
    </div>
</div>
<!-- end main content -->
{% include 'super_admin/partials/customizer.html' %}
{% include 'super_admin/partials/vendor-scripts.html' %}



<script src="{% static 'super_admin/assets/js/datatables/jquery-3.7.0.js' %}"></script>
<script src="{% static 'super_admin/assets/js/datatables/data-tables.min.js' %}"></script>
<script src="{% static 'super_admin/assets/js/datatables/data-tables.tailwindcss.min.js' %}"></script>
<!--buttons dataTables-->
<script src="{% static 'super_admin/assets/js/datatables/datatables.buttons.min.js' %}"></script>
<script src="{% static 'super_admin/assets/js/datatables/jszip.min.js' %}"></script>
<script src="{% static 'super_admin/assets/js/datatables/pdfmake.min.js' %}"></script>
<script src="{% static 'super_admin/assets/js/datatables/vfs_fonts.js' %}"></script>
<script src="{% static 'super_admin/assets/js/datatables/buttons.html5.min.js' %}"></script>
<script src="{% static 'super_admin/assets/js/datatables/buttons.print.min.js' %}"></script>
<script src="{% static 'super_admin/assets/libs/table-edits/build/table-edits.min.js' %}"></script>
<script src="{% static 'super_admin/assets/libs/sweetalert2/sweetalert2.min.js' %}"></script>
<!-- Datatable init js -->

<script src="{% static 'super_admin/assets/js/select2.min.js' %}"></script>
<script src="{% static 'super_admin/assets/libs/sweetalert2/sweetalert2.min.js' %}"></script>
<script src="{% static 'super_admin/assets/libs/magnific-popup/jquery.magnific-popup.min.js' %}"></script>
<script src="{% static 'super_admin/assets/js/pages/lightbox.init.js' %}"></script>
<script src="{% static 'super_admin/assets/js/app.js' %}"></script>
<script src="{% static 'super_admin/assets/js/action_create_door_order_page.js' %}"></script>
<script type="text/javascript">
    
    var mapping = {
        search: '{{ data|get:"Search" }}',

        // for draft form
        step_1_details_saved_success: '{{ data|get:"details saved" }}',
        step_1_details_msg_success: '{{ data|get:"order sent to draft please procced further with form" }}',
        // step_1_details_saved_error: '{{ data|get:"details saved" }}',
        step_1_details_msg_error: '{{ data|get:"the record against the order id is already exists form"}}',
        step_1_details_msg_warning: '{{ data|get:"some fields are empty"}}',
        ///////////// form fields
        back: '{{ data|get:"back" }}',
        kant: '{{ data|get:"kant" }}',
        minorder: '{{ data|get:"min order" }}',
        flow: '{{ data|get:"flow" }}',
        color_type: '{{ data|get:"color type" }}',
        thick: '{{ data|get:"thick" }}',
        description:'{{ data|get:"description" }}',
        collection_barcode: '{{ data|get:"Collection Barcode"}}',
        collection_barcode1: '{{  data|get:"collection barcode 1" }}',
        collection: '{{ data|get:"collection"}}',
        select_a_value:'{{ data|get:"select avalue"}}',
        without_knob : '{{ data|get:"without knob" }}',
        keep_flow:'{{ data|get:"keep flow"}}',
        texture:'{{ data|get:"texture"}}',
        uploadfile: '{{ data|get:"upload file"}}',
        choosefile: '{{ data|get:"choose file"}}',
        nofilechoosen: '{{ data|get:"no file choosen"}}',
        knob_family: '{{ data|get:"Knob Family"}}',
        knob_color: '{{ data|get:"Knob Color"}}',
        keep_flow_height:'{{ data|get:"keep_flow_height"}}',
        keep_flow_width:'{{ data|get:"keep_flow_width"}}',
        height:'{{ data|get:"height "}}',
        width:'{{ data|get:"width"}}',
        no:'{{ data|get:"no"}}',
        yes:'{{ data|get:"yes"}}',
        addrow: '{{ data|get:"add row"}}',
        knobmodel: '{{ data|get:"knob model"}}',
        knobposition: '{{ data|get:"knob postion"}}',
        drills: '{{ data|get:"drills"}}',
        notes: '{{ data|get:"notes"}}',
        quantity: '{{ data|get:"quantity"}}',
        delete: '{{ data|get:"delete"}}',
        addanothercolletion : '{{ data|get:"add another colletion"  }}', 
        sendorder: '{{ data|get:"send order"}}',
        next: '{{ data|get:"next"}}',

        ////////// for pop up

        choose_entry_type: '{{ data|get:"Choose Entry Type"}}',
        drawer : '{{ data|get:"drawer "}}',
        claps : '{{ data|get:"claps"}}',
        hinge : '{{ data|get:"hinge"}}', 
        DrawerDetails : '{{ data|get:"Drawer Details"}}',
        DrawerType : '{{ data|get:"Drawer Type"}}',
        DrawerCode : '{{ data|get:"Drawer Code"}}',
        submit:  '{{ data|get:"submit"}}',
        ClapsDetails: '{{ data|get:"Claps Details" }}',
        ClapsPr: '{{ data|get:"Claps Pr" }}',
        ClapType : '{{ data|get:"Clap Type"}}',
        ClapCode : '{{ data|get:"Clap Code"}}',
        HingeDetails :'{{ data|get:"Hinge Details" }}',
        HingeProvider :'{{ data|get:"Hinge Provider" }}',
        DoorOpeningSide :'{{ data|get:"Door Opening Side" }}',
        lo : '{{ data|get:"lo" }}',
        ro : '{{ data|get:"ro" }}',
        bo : '{{ data|get:"bo" }}',
        drawerBo: '{{ data|get:"drawer bo" }}',

        nh : '{{  data|get:"nh" }}',
        dty : '{{  data|get:"dty" }}',
        dty_option1 : '{{  data|get:"dty_option1" }}',
        dty_option2 : '{{  data|get:"dty_option2" }}',
        yp : '{{  data|get:"yp" }}',
        xp1 : '{{  data|get:"xp1" }}',
        xp2 : '{{  data|get:"xp2" }}',
        xp3 : '{{  data|get:"xp3" }}',
        xp4 : '{{  data|get:"xp4" }}',
        xp5 : '{{  data|get:"xp5" }}',
        xp6 : '{{  data|get:"xp6" }}',


        nature: '{{ data|get:"nature" }}',
        drawer_success_msg: '{{ data|get:"Drawer details has been Saved successfully" }}',
        claps_success_msg: '{{ data|get:"Claps details has been Saved successfully" }}',
        hinge_success_msg: '{{ data|get:"Hinge details has been Saved successfully" }}',
        image_error_msg: '{{ data|get:"Only Image file is allowed" }}',
        close: '{{ data|get:"close" }}',
        good_job_title :'{{ data|get:"Good Job" }}',
        //good_job_text: '{{ data|get:"All the data have been inserted successfully" }}', 
        good_job_text: '{{ data|get:"order sent successfully" }}', 

        data_saved_msg : '{{ data|get:"Data Saved" }}',

        general_error_msg:'{{ data|get:"There are some errors in inserting" }}',
        error: '{{ data|get:"error" }}',
        click_here_to_duplicate:'{{ data|get:"Click to duplicate above row value" }}', 
        selected_entry_type:'{{ data|get:"Selected Entry Type" }}',


        keepflow_question:'{{ data|get:"do you want to add knob" }}',

        width_required: '{{ data|get:"width field is missing" }}',
        height_required: '{{ data|get:"height field is missing" }}',
        quantity_required: '{{ data|get:"quantity field is missing" }}',



        
        sFirst: '{{ data|get:"first" }}', 
        sLast: '{{ data|get:"last" }}', 
        sNext: '{{ data|get:"next" }}', 
        sPrevious: '{{ data|get:"previous" }}',
        export_excel: '{{ data|get:"Export Excel" }}',


    };
    window.page = mapping;
</script>
</body>
</html>